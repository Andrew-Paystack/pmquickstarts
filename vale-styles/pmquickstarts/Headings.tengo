rule = %{
    "description": "Check for required headings in Markdown files",
    "level": "error",
    "scope": ["*.md"],
    "message": "Missing required heading: '%s'",
    "condition": fn(lines) => (
        lines.any(fn(line) => line =~ "^#\\s*Prerequisites\\s*$") and
        lines.any(fn(line) => line =~ "^#\\s*What You'll Need\\s*$") and
        lines.any(fn(line) => line =~ "^#\\s*What You'll Build\\s*$")
    )
}

return [rule]
